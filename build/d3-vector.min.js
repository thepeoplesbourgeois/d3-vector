// https://github.com/thepeoplesbourgeois/d3-vector#readme Version 1.0.0. Copyright 2016 undefined.
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-interpolate"),require("d3-collection")):"function"==typeof define&&define.amd?define(["exports","d3-interpolate","d3-collection"],e):e(n.d3=n.d3||{},n.d3,n.d3)}(this,function(n,e,t){"use strict";function r(n){return n.index}function o(n,e){var t=n.get(e);if(!t)throw new Error("missing: "+e);return t}var i=function(n){return function(){return n}},u=function(n){function e(n){return 1/Math.min(b[n.source.index],b[n.target.index])}function u(n,e){return P(e/b[n.source.index])}function c(){return f(0,360)}function f(n,e){return n+=q%360,e+=q%360,e<=n&&(e+=360),E===z?d3.interpolateNumber(-n,-e):d3.interpolateNumber(n,e)}function a(e){for(var t=0;t<I;++t)for(var r,o,i,u,c=0;c<A;++c)r=n[c].source,o=n[c].target,i=r.x+r.vx+h[c]-o.x,u=r.y+r.vy+v[c]-o.y,r.fx||o.fx||(i/=2),r.fy||o.fy||(u/=2),r.vx-=i*g[c]*e,r.vy-=i*g[c]*e,o.vx+=i*g[c]*e,o.vy+=u*g[c]*e}function d(){if(m){var e,r,i=m.length,u=t.map(m,M);for(A=n.length,b=new Array(i),e=0;e<A;++e)r=n[e],r.index=e,"object"!=typeof r.source&&(r.source=o(u,r.source)),"object"!=typeof r.target&&(r.target=o(u,r.target)),b[r.source.index]=(b[r.source.index]||0)+1,b[r.target.index]=(b[r.target.index]||0)+1;g=new Array(A),l(),p=new Array(A),s(),w=new Array(A),h=new Array(A),v=new Array(A),x()}}function l(){if(m)for(var e=0;e<A;++e)g[e]=+j(n[e],e,n)}function s(){if(m)for(var e=0;e<A;++e)p[e]=+k(n[e],e,n)}function y(){if(m)for(var e,t,r={},o=0;o<A;++o)e=n[o].source,r[e.index]=(r[e.index]||0)+1,t=+N(n[o],r[e.index],n)*Math.PI/180,w[o]=t}function x(){if(m){y();for(var n=0;n<A;++n)h[n]=Math.round(p[n]*Math.cos(w[n])),v[n]=Math.round(p[n]*Math.sin(w[n]))}}var g,p,h,v,w,m,A,b,M=r,j=e,k=i(30),q=0,N=u,P=c(),_="clockwise",z="counterclockwise",E=_,I=1;return n=n||[],a.initialize=function(n){m=n,d()},a.vectors=function(e){return arguments.length?(n=e,d(),a):n},a.id=function(n){return arguments.length?(M=n,a):M},a.iterations=function(n){return arguments.length?(I=+n,a):I},a.orientation=function(n){return arguments.length?(q=+n,x(),a):q},a.rotation=function(n){return arguments.length?(E=n===z?n:_,x(),a):E},a.strength=function(n){return arguments.length?(j="function"==typeof n?n:i(+n),l(),a):j},a.magnitude=function(n){return arguments.length?(k="function"==typeof n?n:i(+n),s(),a):k},a.cone=function(n){switch(arguments.length){case 0:return P;case 1:P=Array.isArray(n)?f.apply(null,n):"function"==typeof n?n:i(+n);break;case 2:P=f.apply(null,arguments)}return x(),a},a};n.forceVector=u,Object.defineProperty(n,"__esModule",{value:!0})});