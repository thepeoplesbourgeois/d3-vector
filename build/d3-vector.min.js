// https://github.com/thepeoplesbourgeois/d3-vector#readme Version 1.0.0. Copyright 2016 undefined.
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-interpolate"),require("d3-collection")):"function"==typeof define&&define.amd?define(["exports","d3-interpolate","d3-collection"],e):e(n.d3=n.d3||{},n.d3,n.d3)}(this,function(n,e,t){"use strict";function r(n){return n.index}function o(n,e){var t=n.get(e);if(!t)throw new Error("missing: "+e);return t}var i=function(n){return function(){return n}},u=function(n){function e(n){return 1/Math.min(M[n.source.index],M[n.target.index])}function u(n,e){return _(e/M[n.source.index])}function f(){return c(0,360)}function c(n,e,t){return t=t||0,n+=t%360,e+=t%360,e<=n&&(e+=360),d3.interpolateNumber(n,e)}function a(e){for(var t=0;t<k;++t)for(var r,o,i,u,f=0;f<m;++f)r=n[f].source,o=n[f].target,i=r.x+r.vx+h[f]-o.x,u=r.y+r.vy+v[f]-o.y,r.fx||o.fx||(i/=2),r.fy||o.fy||(u/=2),r.vx-=i*p[f]*e,r.vy-=i*p[f]*e,o.vx+=i*p[f]*e,o.vy+=u*p[f]*e}function d(){if(A){var e,r,i=A.length,u=t.map(A,b);for(m=n.length,M=new Array(i),e=0;e<m;++e)r=n[e],r.index=e,"object"!=typeof r.source&&(r.source=o(u,r.source)),"object"!=typeof r.target&&(r.target=o(u,r.target)),M[r.source.index]=(M[r.source.index]||0)+1,M[r.target.index]=(M[r.target.index]||0)+1;p=new Array(m),s(),g=new Array(m),y(),w=new Array(m),h=new Array(m),v=new Array(m),x()}}function s(){if(A)for(var e=0;e<m;++e)p[e]=+j(n[e],e,n)}function y(){if(A)for(var e=0;e<m;++e)g[e]=+q(n[e],e,n)}function l(){if(A)for(var e,t,r={},o=0;o<m;++o)e=n[o].source,r[e.index]=(M[e.index]||0)+1,t=+P(n[o],r[e.index])*Math.PI/180,w[o]=t}function x(){if(A){l();for(var n=0;n<m;++n)h[n]=Math.round(g[n]*Math.cos(w[n])),v[n]=Math.round(g[n]*Math.sin(w[n]))}}var p,g,h,v,w,A,m,M,b=r,j=e,q=i(30),P=u,_=f(),k=1;return n=n||[],a.initialize=function(n){A=n,d()},a.vectors=function(e){return arguments.length?(n=e,d(),a):n},a.id=function(n){return arguments.length?(b=n,a):b},a.iterations=function(n){return arguments.length?(k=+n,a):k},a.strength=function(n){return arguments.length?(j="function"==typeof n?n:i(+n),s(),a):j},a.magnitude=function(n){return arguments.length?(q="function"==typeof n?n:i(+n),y(),a):q},a.cone=function(n){switch(arguments.length){case 0:return _;case 1:_=Array.isArray(n)?c.apply(null,n):"function"==typeof n?n:i(+n);break;case 2:_=c.apply(null,arguments)}return x(),a},a};n.forceVector=u,Object.defineProperty(n,"__esModule",{value:!0})});