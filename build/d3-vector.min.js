// https://github.com/thepeoplesbourgeois/d3-vector#readme Version 1.0.0. Copyright 2016 undefined.
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-interpolate"),require("d3-collection")):"function"==typeof define&&define.amd?define(["exports","d3-interpolate","d3-collection"],e):e(n.d3=n.d3||{},n.d3,n.d3)}(this,function(n,e,t){"use strict";function r(n){return n.index}function o(n,e){var t=n.get(e);if(!t)throw new Error("missing: "+e);return t}var i=function(n){return function(){return n}},u=function(n){function e(n){return 1/Math.min(b[n.source.index],b[n.target.index])}function u(n,e){return z(e/b[n.source.index])}function f(){return c(0,360)}function c(n,e){return n+=_%360,e+=_%360,e<=n&&(e+=360),d3.interpolateNumber(n,e)}function a(e){for(var t=0;t<E;++t)for(var r,o,i,u,f=0;f<M;++f)r=n[f].source,o=n[f].target,i=r.x+r.vx+v[f]-o.x,u=r.y+r.vy+p[f]-o.y,r.fx||o.fx||(i/=2),r.fy||o.fy||(u/=2),r.vx-=i*x[f]*e,r.vy-=i*x[f]*e,o.vx+=i*x[f]*e,o.vy+=u*x[f]*e}function d(){if(m){var e,r,i=m.length,u=t.map(m,j);for(M=n.length,b=new Array(i),e=0;e<M;++e)r=n[e],r.index=e,"object"!=typeof r.source&&(r.source=o(u,r.source)),"object"!=typeof r.target&&(r.target=o(u,r.target)),b[r.source.index]=(b[r.source.index]||0)+1,b[r.target.index]=(b[r.target.index]||0)+1;x=new Array(M),s(),h=new Array(M),l(),w=new Array(M),v=new Array(M),p=new Array(M),g()}}function s(){if(m)for(var e=0;e<M;++e)x[e]=+q(n[e],e,n)}function l(){if(m)for(var e=0;e<M;++e)h[e]=+P(n[e],e,n)}function y(){if(m){for(var e,t,r={},o=0;o<M;++o)e=n[o].source,r[e.index]=(r[e.index]||0)+1,t=+k(n[o],r[e.index],n)*Math.PI/180,w[o]=t;"reverse"===A&&(w=w.reverse())}}function g(){if(m){y();for(var n=0;n<M;++n)v[n]=Math.round(h[n]*Math.cos(w[n])),p[n]=Math.round(h[n]*Math.sin(w[n]))}}var x,h,v,p,w,A,m,M,b,j=r,q=e,P=i(30),_=0,k=u,z=f(),E=1;return n=n||[],a.initialize=function(n){m=n,d()},a.nodes=function(n){return arguments.length?(m=n,d(),a):m},a.vectors=function(e){return arguments.length?(n=e,d(),a):n},a.id=function(n){return arguments.length?(j=n,a):j},a.iterations=function(n){return arguments.length?(E=+n,a):E},a.orientation=function(n){return arguments.length?(_=+n,g(),a):_},a.direction=function(n){return arguments.length?(A="reverse"===n?n:null,g(),a):A},a.strength=function(n){return arguments.length?(q="function"==typeof n?n:i(+n),s(),a):q},a.magnitude=function(n){return arguments.length?(P="function"==typeof n?n:i(+n),l(),a):P},a.cone=function(n){switch(arguments.length){case 0:return z;case 1:z=Array.isArray(n)?c.apply(null,n):"function"==typeof n?n:i(+n);break;case 2:z=c.apply(null,arguments)}return g(),a},a};n.forceVector=u,Object.defineProperty(n,"__esModule",{value:!0})});